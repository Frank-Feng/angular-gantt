{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","dom","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","allowSwitchTo","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","foregroundElement","task","getForegroundElement","contentElement","getContentElement","onPressEvents","evt","preventDefault","getTouch","taskMovable","model","rowMovable","enabledValue","firstProperty","isFunction","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","onMousemove","isMoving","css","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","oldTaskHasBeenChanged","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","ganttBody","querySelectorAll","targetRowElement","findElementFromPoint","clientY","hasClass","targetRow","rows","i","l","length","sourceRow","allowSwitchToValue","undefined","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","backgroundElement","getBackgroundElement","addClass","moveBegin","resizeBegin","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","isResizing","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","$on","factory"],"mappings":"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"}